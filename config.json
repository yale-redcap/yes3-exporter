{
    "name": "Yes3 Exporter",

    "namespace": "Yale\\Yes3FieldMapper",

    "description": "YES3 Exporter",

    "prefix": "yes3_exporter",

    "authors": [
    {
        "name": "Peter Charpentier",
        "email": "peter.charpentier@criwebtools.com",
        "institution": "CRI Web Tools LLC"
        }
    ],

    "versions": [
        {
            "number": "0.3.0",
            "date": "2022-03-16",
            "description": "Export logging",
            "comments": ""
        },
        {
            "number": "0.2.1",
            "date": "2022-03-06",
            "description": "Exports and downloads functioning",
            "comments": ""
        },
        {
            "number": "0.1.2",
            "date": "2022-02-26",
            "description": "Minor change to config.json",
            "comments": ""
        },
        {
            "number": "0.1.1",
            "date": "2022-02-24",
            "description": "Settings and Specifications functional",
            "comments": ""
        },
        {
            "number": "0.0.1",
            "date": "2021-12-29",
            "description": "and away we go",
            "comments": ""
        }
    ],

    "permissions": [
        "redcap_module_link_check_display"
    ],

    "links": {
        "project": [
            {
                "name": "YES3 Exporter Editor and Downloads",
                "icon": "fab fa-connectdevelop",
                "url":  "plugins/yes3_export_editor.php"
            },
            {
                "name": "YES3 Exporter Event Prefixes",
                "icon": "fab fa-connectdevelop",
                "url":  "plugins/yes3_export_prefixes.php"
            },
            {
                "name": "YES3 Exporter Logs",
                "icon": "fab fa-connectdevelop",
                "url":  "plugins/yes3_export_logs.php"
            },
            {
                "name": "YES3 Exporter Documentation",
                "icon": "fab fa-connectdevelop",
                "url":  "plugins/yes3_exporter_documentation.php",
                "target": "blank"
            }
        ]
    },

    "system-settings": [
    ],

    "project-settings": [
        {
            "key": "email-notifications-header",
            "type" : "descriptive",
            "name": "<h5>DAILY EMAIL NOTIFICATIONS</h5><p>You may elect to receive daily summaries of YES3 Exporter actions by email.</p>"
        },
        {
            "key": "notification-email-enable",
            "name": "Enable email notifications",
            "type": "radio",
            "required": false,
            "choices":[
                {
                    "value":"N",
                    "name":"No"
                },
                {
                    "value":"Y",
                    "name":"Yes"
                }
            ]
        },
        {
            "key": "notification-email",
            "name": "Email address for notifications",
            "type": "email",
            "required": false,
            "branchingLogic": {
                "conditions": [
                    {
                        "field": "notification-email-enable",
                        "value": "Y"        
                    }
                ]
            }
        },
        {
            "key": "notification-email-runat",
            "name": "When to send notifications (default is midnight)",
            "type": "dropdown",
            "choices": [
                {"name":"midnight", "value":"0"},
                {"name":"1am",  "value":"1"},
                {"name":"2am",  "value":"2"},
                {"name":"3am",  "value":"3"},
                {"name":"4am",  "value":"4"},
                {"name":"5am",  "value":"5"},
                {"name":"6am",  "value":"6"},
                {"name":"7am",  "value":"7"},
                {"name":"8am",  "value":"8"},
                {"name":"9am",  "value":"9"},
                {"name":"10am", "value":"10"},
                {"name":"11am", "value":"11"},
                {"name":"noon", "value":"12"},
                {"name":"1pm",  "value":"13"},
                {"name":"2pm",  "value":"14"},
                {"name":"3pm",  "value":"15"},
                {"name":"4pm",  "value":"16"},
                {"name":"5pm",  "value":"17"},
                {"name":"6pm",  "value":"18"},
                {"name":"7pm",  "value":"19"},
                {"name":"8pm",  "value":"20"},
                {"name":"9pm",  "value":"21"},
                {"name":"10pm", "value":"22"},
                {"name":"11pm", "value":"23"}
            ],
            "required": false,
            "branchingLogic": {
                "conditions": [
                    {
                        "field": "notification-email-enable",
                        "value": "Y"        
                    }
                ]
            }
        },
        {
            "key": "notification-email-lastranat",
            "name": "Time email notifications were last sent",
            "type": "text",
            "required": false,
            "super-users-only": true,
            "branchingLogic": {
                "conditions": [
                    {
                        "field": "notification-email-enable",
                        "value": "Y"        
                    }
                ]
            }
        },
        {
            "key": "toast-the-host",
            "type" : "descriptive",
            "name": "<h5>HOST FILE SYSTEM EXPORTS</h5><p>YES3 Exporter can export to the host file system, n.b. to automounts pointing to secure institutional file shares. This will require services from the REDCap host system administrator.</p>",
            "super-users-only": true
        },
        {
            "key": "enable-host-filesystem-exports",
            "name": "Enable export to host file system",
            "type": "radio",
            "required": false,
            "super-users-only": true,
            "choices":[
                {
                    "value":"N",
                    "name":"No"
                },
                {
                    "value":"Y",
                    "name":"Yes"
                }
            ]
        },
        {
            "key": "export-target-folder",
            "name": "Host file system folder",
            "type": "text",
            "super-users-only": true,
            "required": false,
            "branchingLogic": {
                "field": "enable-host-filesystem-exports",
                "value": "Y"
            }
        },
        {
            "key": "enable-user-data-downloads",
            "name": "Also allow user data downloads",
            "type": "radio",
            "required": false,
            "super-users-only": true,
            "branchingLogic": {
                "field": "enable-host-filesystem-exports",
                "value": "Y"
            },
            "choices":[
                {
                    "value":"N",
                    "name":"No"
                },
                {
                    "value":"Y",
                    "name":"Yes"
                }
            ]
        },
        {
            "key": "buyer-beware",
            "type" : "descriptive",
            "name": "<h5>CAVEAT EMPTOR</h5><p>See the documention, under 'beta features', for brief descriptions of features under development that are available to designers. There is no guarantee that any beta feature will be moved to production.</p>"
        },
        {
            "key": "beta",
            "name": "Access to beta features",
            "type": "radio",
            "required": false,
            "choices":[
                {
                    "value":"N",
                    "name":"No"
                },
                {
                    "value":"Y",
                    "name":"Yes"
                }
            ]
        }

    ],

    "crons":[
        {
            "cron_name": "yes3_exporter_cron",
            "cron_description": "YES3 Exporter cron manager",
            "method": "yes3_exporter_cron",
            "cron_frequency": "60",
            "cron_max_run_time": "7200"
        }
    ],

    "no-auth-pages": [
    ],

    "compatibility": {
    "php-version-min": "7.2",
    "redcap-version-min": "10.0.0"
    },

    "framework-version": 5
}